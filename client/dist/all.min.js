var app=angular.module("drink",["ui.router","ngMock"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(i,n,e){n.otherwise("/"),e.html5Mode(!0)}]),app.controller("gameCtrl",["$scope","activityFactory","drinkFactory",function(i,n,e){function t(){return n.get()}function r(){return e.get()}i.game={},i.play=function(){i.game.activity=t(),i.game.drink=r()}}]),app.controller("mainCtrl",["$scope",function(){}]),app.config(["$stateProvider",function(i){i.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"mainCtrl"})}]),app.factory("activityFactory",[function(){function i(){return r[Math.floor(Math.random()*r.length)]}function n(i){r.push(i)}function e(i){_.remove(r,function(n){return n._id==i})}function t(i){var n=_.find(r,function(n){return n._id==i._id});n.name=i.name,n.videoId=i.videoId,n.description=i.description,n.wikiLink=i.wikiLink}var r=[{_id:0,name:"Flip Cup",videoId:"",description:"Two players face each other on a table and flip cups. 3 cup minimum for each player, 4 if your name is Peng.",wikiLink:"http://en.wikipedia.org/wiki/Flip_cup"},{_id:1,name:"Beer Pong",videoId:"",description:"6 cup beer pong. Two balls per turn. Explosion, island, balls-back, and pull a cup if you overshoot are all cannon.",wikiLink:"http://en.wikipedia.org/wiki/Beer_pong"},{_id:2,name:"Higher/Lower",videoId:"",description:"Alternate every turn being the dealer. Keep the card if you guess right. Most cards after 10 draws wins.",wikiLink:""}];return{get:i,add:n,remove:e,edit:t}}]),app.factory("drinkFactory",[function(){function i(i){return i[Math.floor(Math.random()*i.length)]}function n(){var n=i(o);return n.qty=i(a),n}function e(i){o.push(i)}function t(i){_.remove(o,function(n){return n._id==i})}function r(i){var n=_.find(o,function(n){return n._id==i._id});n.name=i.type}var o=[{_id:0,type:"Beer"},{_id:1,type:"Shot"},{_id:2,type:"Mixed Drink"}],a=[.5,1,1.5,2];return{get:n,add:e,remove:t,edit:r}}]);