var app=angular.module("drink",["ui.router","ngResource"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(e,i,n){i.otherwise("/"),n.html5Mode(!0)}]),app.controller("gameCtrl",["$scope","activityFactory","drinkFactory",function(e,i,n){function t(){return i.get()}function r(){return n.get()}e.game={},e.play=function(){e.game.activity=t(),e.game.drink=r()}}]),app.config(["$stateProvider",function(e){e.state("game",{url:"/game",templateUrl:"app/game/game.html",controller:"gameCtrl"})}]),app.controller("mainCtrl",["$scope",function(){}]),app.config(["$stateProvider",function(e){e.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"mainCtrl"})}]),app.factory("activityFactory",[function(){function e(){return r[Math.floor(Math.random()*r.length)]}function i(e){r.push(e)}function n(e){_.remove(r,function(i){return i._id==e})}function t(e){var i=_.find(r,function(i){return i._id==e._id});i.name=e.name,i.videoId=e.videoId,i.description=e.description,i.wikiLink=e.wikiLink}var r=[{_id:0,name:"Flip Cup",videoId:"",description:"Two players face each other on a table and flip cups. 3 cup minimum for each player, 4 if your name is Peng.",wikiLink:"http://en.wikipedia.org/wiki/Flip_cup"},{_id:1,name:"Beer Pong",videoId:"",description:"6 cup beer pong. Two balls per turn. Explosion, island, balls-back, and pull a cup if you overshoot are all cannon.",wikiLink:"http://en.wikipedia.org/wiki/Beer_pong"},{_id:2,name:"Higher/Lower",videoId:"",description:"Alternate every turn being the dealer. Keep the card if you guess right. Most cards after 10 draws wins.",wikiLink:""}];return{get:e,add:i,remove:n,edit:t}}]),app.factory("drinkFactory",[function(){function e(e){return e[Math.floor(Math.random()*e.length)]}function i(){var i=e(o);return i.qty=e(a),i}function n(e){o.push(e)}function t(e){_.remove(o,function(i){return i._id==e})}function r(e){var i=_.find(o,function(i){return i._id==e._id});i.name=e.type}var o=[{_id:0,type:"Beer"},{_id:1,type:"Shot"},{_id:2,type:"Mixed Drink"}],a=[.5,1,1.5,2];return{get:i,add:n,remove:t,edit:r}}]);